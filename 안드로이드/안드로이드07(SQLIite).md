## SharedPreference(설정용. 데이터를 간단히 저장)

![image-20200411093841319](images/image-20200411093841319.png)

![image-20200411094701963](images/image-20200411094701963.png)

- 결과
  - 아래처럼 쓰고 저장하기 누른 후 앱 나갔다가 들어오기. 앱을 지우면 안됨.

![image-20200411094743693](images/image-20200411094743693.png)

- 앱을 나갔다 들어와도 내가 작성한 정보가 그대로 저장되어 있다.
  - 어딘가의 저장소에 저장이 되어있을 것.

![image-20200411094822924](images/image-20200411094822924.png)

- 아래 사진 보면 내부저장소에 setting.xml이 저장되어있고 여기에 내가 작성한 정보가 저장되어있음

![image-20200411095049519](images/image-20200411095049519.png)

***내앱에 저장되는 데이터는 내부저장소를 씀 -> 앱을 지우면 데이터가 다 날라감. (메시지, 녹음)***

***카스, 카톡은 서버에 저장되어있기 때문에 앱을 지우고 다시 깔아도 사진이나 채팅내용은 남아있음***



## SQLite(537p, 544p~~)

![image-20200411093134911](images/image-20200411093134911.png)



### 테이블의 구조가 바뀔때 자동으로 인지해주는 헬퍼클래스

- SQLiteOpenHelper클래스

- 헬퍼클래스 만들기 -> 앱별로 하나씩 만들어줘야함

![image-20200411102957846](images/image-20200411102957846.png)

![image-20200411104814168](images/image-20200411104814168.png)

- DBMainActivity.java

![image-20200411104250936](images/image-20200411104250936.png)

- 위 처럼 코드를 작성하고 Logcat에 dbtest를 치면 run할 때 데이터베이스가 생성됨을 알 수 있다.![image-20200411104356073](images/image-20200411104356073.png)

- 앱을 껐다 키든, 다시 run을 하든 아무 반응이 없음.
  - 데이터베이스가 또 생성되는게 아님.

![image-20200411104531114](images/image-20200411104531114.png)

- 위의 databases폴더를 삭제하고 run해야 데이터베이스가 다시 생성됨.

- 헬퍼클래스에서 DB_VERSION을 2로 바꾼다음에 run.

![image-20200411105021185](images/image-20200411105021185.png)

- 버전을 3으로 바꾼다음에 oldVersion이 실행되는 것을 확인

![image-20200411110944347](images/image-20200411110944347.png)

![image-20200411111044593](images/image-20200411111044593.png)

- SQLite에서 지원하는 컬럼 타입

![KakaoTalk_20200411_111154375](images/KakaoTalk_20200411_111154375.jpg)

- 테이블 만들기

![image-20200411111659467](images/image-20200411111659467.png)

***공유할꺼면 서버에 데이터를 저장, 안할꺼면 내 폰에 데이터를 저장***

- sql문에 물음표 있으면 Object[] 있는거 써야함

![image-20200411112430330](images/image-20200411112430330.png)

- insert 문 완성

![image-20200411112642522](images/image-20200411112642522.png)

- 저장해보기

![image-20200411112732070](images/image-20200411112732070.png)

- 데이터가 테이블에 잘 들어갔나 확인해보기

![image-20200411112955024](images/image-20200411112955024.png)

![image-20200411113014967](images/image-20200411113014967.png)

![image-20200411113047401](images/image-20200411113047401.png)

![image-20200411113109576](images/image-20200411113109576.png)

![image-20200411113141402](images/image-20200411113141402.png)

![image-20200411113212298](images/image-20200411113212298.png)

- 아래처럼 sql문을 써볼 수도 있음

![image-20200411113303449](images/image-20200411113303449.png)

- 아래처럼 넣어줄 수도 있음

![image-20200411113445366](images/image-20200411113445366.png)

- 아래처럼 테이블 정의변경에서 필드를 설정하면 sql문이 자동으로 작성됨.
  - A를 복붙해서 sql문을 작성해도 됨.

![image-20200411113604537](images/image-20200411113604537.png)

- selectAll 작성
  - select 문은 rowQuery를 씀.

![image-20200411114012492](images/image-20200411114012492.png)

![image-20200411114034325](images/image-20200411114034325.png)

![image-20200411114529878](images/image-20200411114529878.png)

![image-20200411114543827](images/image-20200411114543827.png)

- update문, delete문

![image-20200411132925426](images/image-20200411132925426.png)



## ContentValues

- sql문을 직접 안쓰고 메소드만 호출해주면 알아서 SQL문이 실행됨.

![image-20200411134255898](images/image-20200411134255898.png)

- insert문

![image-20200411135044388](images/image-20200411135044388.png)

- selectAll

![image-20200411135122359](images/image-20200411135122359.png)

- update, delete

![image-20200411141528155](images/image-20200411141528155.png)